<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Register</title>
    <link rel="stylesheet" href="../static/css/bootstrap.css">
    <style>
        #image-preview {
            max-width: 100%;
            max-height: 200px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
<header>
    <div class="container">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
                <a class="navbar-brand" href="./index.html">
                    <img src="../static/assets/Q_logo.png" width="30" height="30"
                         class="img-thumbnail d-inline-block align-top"
                         alt="" loading="lazy">
                    AskQ
                </a>
                <form class="d-flex justify-content-center">
                    <input class="form-control mr-2" type="search" placeholder="Search" aria-label="Search">
                    <button class="btn btn-outline-success" type="submit">Search</button>
                </form>
                <ul class="navbar-nav justify-content-center">
                    <li class="nav-item">
                        <a class="nav-link" href="./login.html">Log in</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./register.html">Register</a>
                    </li>
                </ul>


            </div>
        </nav>
    </div>
</header>
<section>
    <div class="container">
        <div class="row">
            <div class="col-lg-8">
                <div class="row">
                    <div class="container mt-4">
                        <h2 class="mb-4">Register</h2>
                        <form action="./index.html" method="post" enctype="multipart/form-data">
                            <div class="mb-3">
                                <label for="login" class="form-label">Login</label>
                                <input type="text" class="form-control" id="login" name="login" required>
                            </div>
                            <div class="mb-3">
                                <label for="email" class="form-label">Email</label>
                                <input type="email" class="form-control" id="email" name="email" required>
                            </div>
                            <div class="mb-3">
                                <label for="nickname" class="form-label">NickName</label>
                                <input type="text" class="form-control" id="nickname" name="nickname" required>
                            </div>
                            <div class="mb-3">
                                <label for="avatar" class="form-label">Upload avatar</label>
                                <input type="file" class="form-control" id="avatar" name="avatar" accept="image/*"
                                       required>
                                <img id="image-preview" src="" alt="Image Preview" style="display: none;">

                            </div>
                            <button type="submit" class="btn btn-primary">Save</button>
                        </form>
                    </div>
                </div>
            </div>

            <div class="col-lg-4">
                <div class="row">
                    <div class="container mt-4">
                        <h2 class="mb-4">Popular Tags</h2>
                        <ul class="list-group list-group-flush list-group-horizontal">
                            <li class="list-group-item">
                                <a href="#" class="btn btn-primary">Cras justo odio</a>
                            </li>
                            <li class="list-group-item">
                                <a href="#" class="btn btn-success">Dapibus ac facilisis in</a>
                            </li>
                            <li class="list-group-item">
                                <a href="#" class="btn btn-info">Morbi leo risus</a>
                            </li>
                        </ul>
                        <ul class="list-group list-group-flush list-group-horizontal">
                            <li class="list-group-item">
                                <a href="#" class="btn btn-warning">Porta ac consectetur ac</a>
                            </li>
                            <li class="list-group-item">
                                <a href="#" class="btn btn-danger">Vestibulum at eros</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="row">
                    <div class="container mt-4">
                        <h2 class="mb-4">Best Members</h2>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">
                                <img src="../static/assets/avatar.png" width="30" height="30" alt="Аватар пользователя">
                                <a href="/profile/member1">Member 1</a>
                            </li>
                            <li class="list-group-item">
                                <img src="../static/assets/avatar.png" width="30" height="30"
                                     alt="Аватар пользователя 2">
                                <a href="/profile/member2">Member 2</a>
                            </li>
                            <li class="list-group-item">
                                <img src="../static/assets/avatar.png" width="30" height="30"
                                     alt="Аватар пользователя 3">
                                <a href="/profile/member3">Member 3</a>
                            </li>
                            <li class="list-group-item">
                                <img src="../static/assets/avatar.png" width="30" height="30"
                                     alt="Аватар пользователя 4">
                                <a href="/profile/member4">Member 4</a>
                            </li>
                            <li class="list-group-item">
                                <img src="../static/assets/avatar.png" width="30" height="30"
                                     alt="Аватар пользователя 5">
                                <a href="/profile/member5">Member 5</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script src="../static/js/bootstrap.bundle.min.js"></script>
<script>
    const avatarInput = document.getElementById('avatar');
    const imagePreview = document.getElementById('image-preview');

    avatarInput.addEventListener('change', function () {
        const file = avatarInput.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                imagePreview.src = e.target.result;
                imagePreview.style.display = 'block';
            };
            reader.readAsDataURL(file);
        } else {
            imagePreview.style.display = 'none';
        }

        // Проверка, что выбранный файл - изображение
        const allowedTypes = ['image/jpeg', 'image/png', 'image/gif'];
        if (file && allowedTypes.includes(file.type)) {
            // Файл - изображение
        } else {
            // Файл не является изображением
            alert('Please select a valid image file (JPEG, PNG, or GIF).');
            avatarInput.value = ''; // Сброс выбранного файла
            imagePreview.style.display = 'none';
        }
    });
</script>
</body>
</html>